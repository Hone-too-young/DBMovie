# DBMovie
豆拌电影评分网站
***
***用户服务模块***
  1. 登录注册
      1. 基于shiro框架的JWT权限认证
          1. 登录发送token到客户端消息头
          2. token过期，Redis存的token未过期，刷新token
          3. Redis存的token过期，被拦截
          4. token生成，解析校验
      2. 模拟短信验证注册
          1. 发送短信验证码
          2. 校验手机号码验证码，用于注册及修改密码
      3. 注册密码加密MD5存储
  2. 保持登录状态
      1. 根据token保持登录状态
      2. 根据最近一次操作刷新token
  3. 退出登录
      1. 销毁token
  4. 上传头像
      1. 头像图片存储于classpath：resources/static/upload
 ***
***主页***
  1. 搜索
      1. 电影演员共同模糊查询
          1. 返回电影信息
          2. 缓存演员信息，以便快速查询
          3. 查看电影详情
              1. 电影详情
              2. 参演演员列表
              3. 查看所有短评
                  1. 点赞（缓存）<br>
                    ●定时更新数据库(5分钟)
                    //应对频繁点赞和取消点赞，减少数据库频繁读写
                  2. 点踩（缓存）<br>
                    ●定时更新数据库（5分钟）
                  3. 根据点赞数量排序
                  4. 标签，隐藏or公开，想看or看过
              3. 短评下的评论区
                  1. 点赞（缓存）<br>
                    ●定时更新数据库
                  2. 点踩（缓存）<br>
                    ●定时更新数据库
                  3. 根据时间排序
          4. 查看演员详情
              1. 代表作品
      2. 关键字搜索演员
          1. 返回演员列表
          2. 查看演员详情
  2. 电影分类
       1. 根据标签分类电影
  3. 电影排行
       1. 根据电影综合评分排序
       2. 存进Redis缓存快速查询
       3. 获取top50+电影
 ***
***个人页面***
  1. 填写实名信息
      1. 上传头像
      2. 更改昵称等
  2. 记录<br>
      1. 历史观看记录（电影列表）
          1. 存进Redis做缓存，设置七天后过期
          2. 监听器，监听历史记录，过期删除MySQL中的数据
      3. 查看自己所有评论
      4. 查看自己所有短评
      

